{"ast":null,"code":"import _slicedToArray from\"C:/Users/m/Desktop/study/project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{Link}from'react-router-dom';import{useNavigate,useLocation,useParams}from'react-router-dom';import axios from\"axios\";import{useState}from'react';import{useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function BoardDetail(){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),viewCount=_useState2[0],setCount=_useState2[1];var _useParams=useParams(),id=_useParams.id;var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),totalDetail=_useState4[0],setTotalDetail=_useState4[1];useEffect(function(){axios.post(\"http://localhost:4000/Board/\".concat(id,\"/cnt\")).then(function(){setCount(viewCount+1);}).catch(function(error){console.error('조회수 증가 중 오류 발생:',error);});},[]);useEffect(function(){axios.get(\"http://localhost:4000/Board/\".concat(id)).then(function(response){setTotalDetail(response.data);// 서버에서 받은 데이터를 상태 변수에 저장\nsetCount(response.data.viewCount);}).catch(function(error){console.error('조회수 가져오다가 오류 발생:',error);});},[]);return/*#__PURE__*/_jsx(\"div\",{children:Object.keys(totalDetail).map(function(a,i){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{style:{marginBottom:130},children:\"\\uAC8C\\uC2DC\\uAE00 \\uC0C1\\uC138\\uC815\\uBCF4\"}),/*#__PURE__*/_jsx(\"div\",{className:\"boarddate\",children:/*#__PURE__*/_jsx(\"label\",{children:totalDetail[a].BOARD_DATE})}),/*#__PURE__*/_jsxs(\"div\",{className:\"post-view-row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\uAC8C\\uC2DC\\uAE00 \\uBC88\\uD638\"}),/*#__PURE__*/_jsx(\"label\",{children:totalDetail[a].BOARD_NO})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"post-view-row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\uC81C\\uBAA9\"}),/*#__PURE__*/_jsx(\"label\",{children:totalDetail[a].BOARD_TITLE})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"post-view-row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\uC791\\uC131\\uC790\"}),/*#__PURE__*/_jsx(\"label\",{children:totalDetail[a].BOARD_NAME})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"post-view-row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\uC870\\uD68C\\uC218\"}),/*#__PURE__*/_jsx(\"label\",{children:viewCount})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"content\",children:totalDetail[a].BOARD_CONTENT})})]},i);})});}/* <div className=\"post-view-row\">\r\n<label>첨부파일</label>\r\n{image && <img src={`data:image/jpeg;base64,${image}`} alt=\"이미지\" />}\r\n</div> */export default BoardDetail;","map":{"version":3,"names":["React","Link","useNavigate","useLocation","useParams","axios","useState","useEffect","jsx","_jsx","jsxs","_jsxs","BoardDetail","_useState","_useState2","_slicedToArray","viewCount","setCount","_useParams","id","_useState3","_useState4","totalDetail","setTotalDetail","post","concat","then","catch","error","console","get","response","data","children","Object","keys","map","a","i","style","marginBottom","className","BOARD_DATE","BOARD_NO","BOARD_TITLE","BOARD_NAME","BOARD_CONTENT"],"sources":["C:/Users/m/Desktop/study/project/src/routes/BoardDetail.js"],"sourcesContent":["import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useNavigate , useLocation , useParams} from 'react-router-dom';\r\nimport axios from \"axios\";\r\nimport { useState } from 'react';\r\nimport { useEffect } from 'react';\r\n\r\n\r\nfunction BoardDetail() {\r\n   \r\n\r\n  const [viewCount, setCount] = useState(0);\r\n  const { id } = useParams();\r\n  let [totalDetail, setTotalDetail] = useState('');\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    axios.post(`http://localhost:4000/Board/${id}/cnt`)\r\n      .then(() => {\r\n        setCount(viewCount + 1);\r\n      })\r\n      .catch((error) => {\r\n        console.error('조회수 증가 중 오류 발생:', error);\r\n      });\r\n  }, []);\r\n\r\n\r\n    useEffect(() => {\r\n      axios.get(`http://localhost:4000/Board/${id}`)\r\n        .then((response) => {\r\n        setTotalDetail(response.data); // 서버에서 받은 데이터를 상태 변수에 저장\r\n\r\n        setCount(response.data.viewCount)\r\n        })\r\n        .catch((error)=>{\r\n          console.error('조회수 가져오다가 오류 발생:', error);\r\n        });\r\n      }, []); \r\n\r\n    \r\n\r\n\r\n      return (\r\n        <div>\r\n        {\r\n          Object.keys(totalDetail).map((a , i) => (\r\n        <div key={i}>\r\n        <h2 style={{ marginBottom : 130 }}>게시글 상세정보</h2>\r\n        \r\n        <div className='boarddate'>\r\n        <label>{totalDetail[a].BOARD_DATE }</label>\r\n        </div>\r\n        <div className=\"post-view-row\">\r\n        <label>게시글 번호</label>\r\n        <label>{totalDetail[a].BOARD_NO }</label>\r\n        </div>\r\n       \r\n        <div className=\"post-view-row\">\r\n        <label>제목</label>\r\n        <label>{totalDetail[a].BOARD_TITLE}</label>\r\n        </div>\r\n        <div className=\"post-view-row\">\r\n        <label>작성자</label>\r\n        <label>{ totalDetail[a].BOARD_NAME}</label>\r\n        </div>\r\n        <div className=\"post-view-row\">\r\n        <label>조회수</label>\r\n        {/* <label>{ totalDetail[a].BOARD_CNT }</label> */}\r\n        <label>{ viewCount }</label>\r\n\r\n        </div>\r\n        <div >\r\n\r\n         <div className='content'>\r\n       { totalDetail[a].BOARD_CONTENT }\r\n         </div>\r\n        </div>\r\n        </div>\r\n        ))}\r\n        </div>\r\n      );\r\n }\r\n\r\n/* <div className=\"post-view-row\">\r\n<label>첨부파일</label>\r\n{image && <img src={`data:image/jpeg;base64,${image}`} alt=\"이미지\" />}\r\n</div> */\r\n\r\nexport default BoardDetail;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}